(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-7a5030d8"],{"12e0":function(e,r,s){"use strict";s.d(r,"a",(function(){return t})),s.d(r,"b",(function(){return a}));s("2ca7");function t(e){var r=/\w+([-+.]\w+)*@\w+([-.]\w+)*\.\w+([-.]\w+)*/;return r.test(e)}function a(e){var r=/^[1][3,4,5,7,8][0-9]{9}$/;return r.test(e)}},adc9:function(e,r,s){"use strict";s.r(r);var t=function(){var e=this,r=e.$createElement,s=e._self._c||r;return s("div",{staticClass:"login"},[s("div",{staticClass:"login-banner"},[e._m(0),s("el-form",{ref:"regForm",staticClass:"login-form",attrs:{model:e.regForm,rules:e.rules}},[s("div",{staticClass:"title-container"},[s("h2",[e._v("用户注册")])]),s("el-form-item",{attrs:{prop:"username"}},[s("el-input",{attrs:{placeholder:"用户账号"},model:{value:e.regForm.username,callback:function(r){e.$set(e.regForm,"username",r)},expression:"regForm.username"}})],1),s("el-form-item",{attrs:{prop:"realName"}},[s("el-input",{attrs:{placeholder:"真实姓名"},model:{value:e.regForm.realName,callback:function(r){e.$set(e.regForm,"realName",r)},expression:"regForm.realName"}})],1),s("el-form-item",{attrs:{prop:"password"}},[s("el-input",{attrs:{placeholder:"账号密码"},model:{value:e.regForm.password,callback:function(r){e.$set(e.regForm,"password",r)},expression:"regForm.password"}})],1),s("el-form-item",{attrs:{prop:"userphone"}},[s("el-input",{attrs:{placeholder:"大陆手机号"},model:{value:e.regForm.userphone,callback:function(r){e.$set(e.regForm,"userphone",r)},expression:"regForm.userphone"}})],1),s("el-form-item",{attrs:{prop:"useremail"}},[s("div",{staticClass:"emailcode"},[s("div",{staticClass:"email-input"},[s("el-input",{attrs:{placeholder:"个人邮箱"},model:{value:e.regForm.useremail,callback:function(r){e.$set(e.regForm,"useremail",r)},expression:"regForm.useremail"}})],1),s("div",{staticClass:"send-code"},[s("el-button",{attrs:{loading:e.isload},on:{click:e.sendcode}},[e._v(e._s(e.codemsg))])],1)])]),s("el-form-item",{attrs:{prop:"emailcode"}},[s("span"),s("el-input",{attrs:{placeholder:"邮箱验证码"},model:{value:e.regForm.emailcode,callback:function(r){e.$set(e.regForm,"emailcode",r)},expression:"regForm.emailcode"}})],1),s("el-form-item",[s("el-button",{staticClass:"register-btn",attrs:{type:"primary"},on:{click:function(r){return e.handregister("regForm")}}},[e._v("注册")])],1),s("el-form-item",[s("el-button",{staticClass:"login-btn",on:{click:e.toLogin}},[e._v("登录")])],1)],1)],1)])},a=[function(){var e=this,r=e.$createElement,s=e._self._c||r;return s("div",{staticClass:"login-logo"},[s("h1",[e._v("多方数据计算平台")])])}],o=s("12e0"),i={data:function(){var e=this,r=function(e,r,s){var t=Object(o["a"])(r);t?s():s(new Error("邮箱格式错误"))},s=function(e,r,s){var t=Object(o["b"])(r);t?s():s(new Error("手机号格式错误"))},t=function(r,s,t){e.$api.checkuser(s).then((function(e){100===e.err_code?t():t(new Error("该账号已被注册"))}))};return{isload:!1,codemsg:"发送验证码",time:60,regForm:{account:"",useremail:"",password:"",userphone:"",emailcode:"",username:"",realName:""},rules:{username:[{required:!0,message:"请输入账号",trigger:"blur"},{validator:t,trigger:"blur"}],useremail:[{reuqired:!0,message:"请输入邮箱号",trigger:"blur"},{validator:r,trigger:"blur"}],emailcode:[{required:!0,message:"请输入邮箱验证码",trigger:"blur"}],userphone:[{reuqired:!0,message:"请输入大陆手机号",trigger:"blur"},{validator:s,trigger:"blur"}],password:[{required:!0,message:"请输入账号密码",trigger:"blur"},{min:6,max:16,message:"密码长度在 6 到 16 之间",trigger:"blur"}],realName:[{required:!0,message:"请输入真实姓名",trigger:"blur"}]}}},methods:{retime:function(){var e=this;e.codemsg="".concat(e.time,"s后重新发送");var r=setInterval((function(){0===e.time?(clearInterval(r),e.isload=!1,e.codemsg="发送验证码"):(e.time--,e.codemsg="".concat(e.time,"s后重新发送"))}),1e3)},sendcode:function(){var e=this;return e.regForm.username?e.regForm.useremail?(e.retime(),void this.$api.getemcode({account:e.regForm.username,mail:e.regForm.useremail}).then((function(r){100===r.err_code?(e.isload=!0,e.$message({message:"验证码发送成功,请注意查收",type:"success"})):e.$message({message:"验证码发送失败",type:"error"})}))):e.$message({message:"请填写用户邮箱号",type:"error"}):e.$message({message:"请填写用户账号",type:"error"})},handregister:function(e){var r=this,s=this;this.$refs[e].validate((function(t){t&&s.$api.regsiter({account:s.regForm.username,code:s.regForm.emailcode,mail:s.regForm.useremail,password:s.regForm.password,phone:s.regForm.userphone,realName:s.regForm.realName,username:s.regForm.username}).then((function(t){100===t.err_code?(s.$message({message:"用户注册成功",type:"success"}),r.$refs[e].resetFields()):102===t.err_code?s.$message({message:"账号已存在",type:"error"}):s.$message({message:"用户注册失败",type:"error"})}))}))},toLogin:function(){this.$router.push("/auth/login")}}},n=i,l=(s("c2ed"),s("2877")),m=Object(l["a"])(n,t,a,!1,null,"f8717f52",null);r["default"]=m.exports},c2ed:function(e,r,s){"use strict";var t=s("f191"),a=s.n(t);a.a},f191:function(e,r,s){}}]);
//# sourceMappingURL=chunk-7a5030d8.d09f08a3.js.map