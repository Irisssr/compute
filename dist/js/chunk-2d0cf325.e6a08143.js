(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2d0cf325"],{"634f":function(e,o,t){"use strict";t.r(o);var r=function(){var e=this,o=e.$createElement,t=e._self._c||o;return t("div",{staticClass:"login"},[t("div",{staticClass:"login-banner"},[e._m(0),t("el-form",{ref:"loginForm",staticClass:"login-form",attrs:{"aria-autocomplete":"on","label-position":"left",model:e.loginForm,rules:e.rules}},[t("div",{staticClass:"title-container"},[t("h2",[e._v("用户登录")])]),t("el-form-item",{attrs:{prop:"account","label-width":e.loginWidth,label:"用户账号"}},[t("el-input",{attrs:{placeholder:"用户账号"},model:{value:e.loginForm.account,callback:function(o){e.$set(e.loginForm,"account",o)},expression:"loginForm.account"}})],1),t("el-form-item",{attrs:{prop:"password","label-width":e.loginWidth,label:"账号密码"}},[t("el-input",{attrs:{type:e.pwdType,placeholder:"账号密码"},model:{value:e.loginForm.password,callback:function(o){e.$set(e.loginForm,"password",o)},expression:"loginForm.password"}})],1),t("el-form-item",{attrs:{prop:"role","label-width":e.loginWidth,label:"用户角色"}},[t("el-select",{staticStyle:{width:"100%"},attrs:{placeholder:"选择用户角色"},model:{value:e.loginForm.role,callback:function(o){e.$set(e.loginForm,"role",o)},expression:"loginForm.role"}},e._l(e.roleList,(function(e){return t("el-option",{key:e.id,attrs:{label:e.name,value:e.id}})})),1)],1),t("el-form-item",{attrs:{prop:"role","label-width":e.loginWidth}},[t("el-button",{staticClass:"login-btn",attrs:{type:"primary"},on:{click:function(o){return e.toLogin("loginForm")}}},[e._v("登录")])],1),t("el-form-item",{attrs:{prop:"role","label-width":e.loginWidth}},[t("el-button",{staticClass:"register-btn",on:{click:e.toRegister}},[e._v("注册")])],1)],1)],1)])},s=[function(){var e=this,o=e.$createElement,t=e._self._c||o;return t("div",{staticClass:"login-logo"},[t("h1",[e._v("多方数据计算平台")])])}],i={data:function(){return{loginWidth:"100px",pwdType:"password",loginForm:{account:"",password:"",role:"user"},roleList:[{name:"平台用户",id:"user"},{name:"平台管理员",id:"admin"},{name:"政府管理员",id:"gov"},{name:"浪潮管理员",id:"langChao"}],rules:{account:[{required:!0,message:"请输入账号",trigger:"blur"}],password:[{required:!0,message:"请输入密码",trigger:"blur"},{min:6,max:16,message:"密码长度在 6 到 16 之间",trigger:"blur"}]}}},methods:{showPwd:function(){"password"===this.pwdType?this.pwdType="text":"text"===this.pwdType&&(this.pwdType="password")},toLogin:function(e){var o=this,t=function(e){switch(e){case"user":o.$router.push("/index/user");break;case"admin":o.$router.push("/index/admin");break;case"gov":o.$router.push("/index/government");break;case"langChao":o.$router.push("/index/langchao");break}};this.$refs[e].validate((function(e){e&&o.$api.login({account:o.loginForm.account,password:o.loginForm.password,role:o.loginForm.role}).then((function(e){var r=e.err_code;100===r?(sessionStorage.setItem("token","Bearer ".concat(e.data.token)),sessionStorage.setItem("role",o.loginForm.role),o.$message({message:"登录成功",type:"success"}),t(o.loginForm.role)):101===r?o.$message({message:"用户名错误",type:"error"}):o.$message({message:"登录错误",type:"error"})}))}))},toRegister:function(){this.$router.push("/auth/register")}}},l=i,a=t("2877"),n=Object(a["a"])(l,r,s,!1,null,"f0b27f28",null);o["default"]=n.exports}}]);
//# sourceMappingURL=chunk-2d0cf325.e6a08143.js.map