(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-7b1dde88"],{"129f":function(e,t){e.exports=Object.is||function(e,t){return e===t?0!==e||1/e===1/t:e!=e&&t!=t}},"12e0":function(e,t,a){"use strict";a.d(t,"a",(function(){return n})),a.d(t,"b",(function(){return r}));a("2ca7");function n(e){var t=/\w+([-+.]\w+)*@\w+([-.]\w+)*\.\w+([-.]\w+)*/;return t.test(e)}function r(e){var t=/^[1][3,4,5,7,8][0-9]{9}$/;return t.test(e)}},1799:function(e,t,a){"use strict";var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("el-pagination",{attrs:{"current-page":e.pageIndex,"page-sizes":[5,20,50],"page-size":e.pageSize,layout:"total, sizes, prev, pager, next, jumper",total:e.totalMsg},on:{"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange}})],1)},r=[],s=(a("a9e3"),{props:{totalMsg:{type:Number,default:null},pageSize:{type:Number,default:1},pageIndex:{type:Number,default:5}},methods:{handleSizeChange:function(e){this.$emit("setSize",e)},handleCurrentChange:function(e){this.$emit("setIndex",e)}}}),o=s,i=a("2877"),l=Object(i["a"])(o,n,r,!1,null,null,null);t["a"]=l.exports},"17f6":function(e,t,a){"use strict";var n=a("f0ad"),r=a.n(n);r.a},5899:function(e,t){e.exports="\t\n\v\f\r                　\u2028\u2029\ufeff"},"58a8":function(e,t,a){var n=a("1d80"),r=a("5899"),s="["+r+"]",o=RegExp("^"+s+s+"*"),i=RegExp(s+s+"*$"),l=function(e){return function(t){var a=String(n(t));return 1&e&&(a=a.replace(o,"")),2&e&&(a=a.replace(i,"")),a}};e.exports={start:l(1),end:l(2),trim:l(3)}},"6a1d":function(e,t,a){"use strict";a.r(t);var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("div",{staticClass:"box-container"},[e._m(0),a("div",{staticClass:"box-btn"},[a("el-button",{attrs:{type:"success"},on:{click:e.addUser}},[e._v("添加用户")]),a("el-input",{attrs:{placeholder:"请输入用户账号"},model:{value:e.search.username,callback:function(t){e.$set(e.search,"username",t)},expression:"search.username"}}),e.isfind?a("el-button",{attrs:{type:"warning"},on:{click:e.findUser}},[e._v("查询用户")]):a("el-button",{attrs:{type:"danger"},on:{click:e.cancelFind}},[e._v("取消")])],1),a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],staticStyle:{width:"100%","margin-bottom":"20px"},attrs:{data:e.userList}},[a("el-table-column",{attrs:{type:"expand",label:"密码"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-form",{staticClass:"demo-table-expand",attrs:{"label-position":"left",inline:""}},[a("el-form-item",{attrs:{label:"账号密码："}},[a("span",[e._v(e._s(t.row.password))])])],1)]}}])}),a("el-table-column",{attrs:{prop:"username",align:"center",label:"用户账号"}}),a("el-table-column",{attrs:{prop:"realName",align:"center",label:"用户姓名"}}),a("el-table-column",{attrs:{prop:"mail",align:"center",label:"邮箱"}}),a("el-table-column",{attrs:{prop:"phone",align:"center",label:"手机号"}}),a("el-table-column",{attrs:{align:"center",label:"用户身份"},scopedSlots:e._u([{key:"default",fn:function(t){var n=t.row;return[a("el-tag",{attrs:{type:e._f("roleType")(n.role)}},[e._v(e._s(e._f("roleVal")(n.role)))])]}}])}),a("el-table-column",{attrs:{align:"center",label:"登录状态"},scopedSlots:e._u([{key:"default",fn:function(t){var n=t.row;return[a("el-tag",{attrs:{type:e._f("statusType")(n.loginStatus)}},[e._v(e._s(e._f("statusVal")(n.loginStatus)))])]}}])}),a("el-table-column",{attrs:{label:"操作",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{attrs:{size:"mini",type:"primary"},on:{click:function(a){return e.onEdit(t.row)}}},[e._v("编辑")]),a("el-button",{attrs:{size:"mini",type:"danger"},on:{click:function(a){return e.onDel(t.row)}}},[e._v("删除")])]}}])})],1)],1),a("AddUser",{attrs:{titleText:"添加用户",oneData:e.form,dialogFormVisible:e.dialog},on:{setData:e.addMyData,setDialog:e.getDialog}}),a("AddUser",{attrs:{titleText:"编辑用户",isEdit:!0,oneData:e.oneData,dialogFormVisible:e.edialog},on:{setData:e.editMyData,setDialog:e.getDialog}}),a("div",{staticClass:"bottom-page"},[a("Pagination",{attrs:{totalMsg:e.query.total,pageSize:e.query.pageSize,pageIndex:e.query.pageIndex},on:{setSize:e.getSize,setIndex:e.getIndex}})],1)],1)},r=[function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"box-btn"},[a("h4",[e._v("平台注册用户")])])}],s=(a("ac1f"),a("841c"),a("1799")),o=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("el-dialog",{attrs:{title:e.titleText,visible:e.dialogFormVisible_},on:{close:e.closeDialog,"update:visible":function(t){e.dialogFormVisible_=t}}},[a("el-form",{attrs:{model:e.oneData}},[a("el-form-item",{attrs:{label:"用户账号","label-width":e.formLabelWidth}},[e.isEdit?a("span",[e._v(e._s(e.oneData.username))]):a("el-input",{attrs:{autocomplete:"off"},model:{value:e.oneData.username,callback:function(t){e.$set(e.oneData,"username",t)},expression:"oneData.username"}})],1),a("el-form-item",{attrs:{label:"用户姓名","label-width":e.formLabelWidth}},[a("el-input",{attrs:{autocomplete:"off"},model:{value:e.oneData.realName,callback:function(t){e.$set(e.oneData,"realName",t)},expression:"oneData.realName"}})],1),a("el-form-item",{attrs:{label:"用户密码","label-width":e.formLabelWidth}},[a("el-input",{attrs:{autocomplete:"off"},model:{value:e.oneData.password,callback:function(t){e.$set(e.oneData,"password",t)},expression:"oneData.password"}})],1),a("el-form-item",{attrs:{label:"大陆手机号","label-width":e.formLabelWidth}},[a("el-input",{attrs:{autocomplete:"off"},model:{value:e.oneData.phone,callback:function(t){e.$set(e.oneData,"phone",t)},expression:"oneData.phone"}})],1),a("el-form-item",{attrs:{label:"个人邮箱","label-width":e.formLabelWidth}},[a("el-input",{attrs:{autocomplete:"off"},model:{value:e.oneData.mail,callback:function(t){e.$set(e.oneData,"mail",t)},expression:"oneData.mail"}})],1),a("el-form-item",{attrs:{label:"角色身份","label-width":e.formLabelWidth}},[a("el-select",{attrs:{placeholder:"请选择角色身份"},model:{value:e.oneData.role,callback:function(t){e.$set(e.oneData,"role",t)},expression:"oneData.role"}},[a("el-option",{attrs:{label:"平台管理员",value:"admin"}}),a("el-option",{attrs:{label:"平台用户",value:"user"}}),a("el-option",{attrs:{label:"政府管理员",value:"gov"}}),a("el-option",{attrs:{label:"浪潮管理员",value:"langChao"}})],1)],1),a("el-form-item",{attrs:{label:"登录状态","label-width":e.formLabelWidth}},[a("el-select",{attrs:{placeholder:"请选择登录状态"},model:{value:e.oneData.loginStatus,callback:function(t){e.$set(e.oneData,"loginStatus",t)},expression:"oneData.loginStatus"}},[a("el-option",{attrs:{label:"允许登录",value:"true"}}),a("el-option",{attrs:{label:"禁止登录",value:"false"}})],1)],1)],1),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:e.cancelDialog}},[e._v("取 消")]),a("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.addData("oneData")}}},[e._v("添 加")])],1)],1)],1)},i=[],l={props:{isEdit:{type:Boolean,default:!1},titleText:{type:String},oneData:{type:Object,default:null},dialogFormVisible:{type:Boolean,default:!1},formLabelWidth:{type:String,default:"150px"}},computed:{dialogFormVisible_:{get:function(){return this.dialogFormVisible},set:function(e){this.$emit("setDialog",e)}}},methods:{closeDialog:function(){this.dialogFormVisible_=!1},cancelDialog:function(){this.dialogFormVisible_=!1},addData:function(){var e=this;if(!e.oneData.mail||!e.oneData.username||!e.oneData.realName||!e.oneData.password||!e.oneData.loginStatus||!e.oneData.role)return e.$message({message:"所填数据不能为空",type:"error"});this.$emit("setData",this.oneData)}}},u=l,c=a("2877"),d=Object(c["a"])(u,o,i,!1,null,null,null),f=d.exports,m=a("12e0"),p={components:{Pagination:s["a"],AddUser:f},filters:{statusType:function(e){var t={true:"success",false:"info"};return t[e]},statusVal:function(e){var t={true:"允许登录",false:"禁止登录"};return t[e]},roleType:function(e){var t={user:"",admin:"success",gov:"danger",langChao:""};return t[e]},roleVal:function(e){var t={user:"平台用户",admin:"平台管理员",gov:"政府管理员",langChao:"浪潮管理员"};return t[e]}},data:function(){return{isfind:!0,loading:!1,dialog:!1,edialog:!1,username:"",userList:[],oneData:{},query:{total:null,pageSize:5,pageIndex:1},form:{username:"",password:"",realName:"",phone:"",mail:"",loginStatus:"",role:""},search:{username:""}}},methods:{addUser:function(){this.dialog=!0},addMyData:function(e){var t=this,a=Object(m["a"])(e.mail),n=Object(m["b"])(e.phone),r=e.password.length;return r<6||r>16?t.$message({message:"密码长度在6到16之间",type:"error"}):n?a?void this.$api.admuser({username:e.username,password:e.password,realName:e.realName,mail:e.mail,phone:e.phone,loginStatus:e.loginStatus,role:e.role}).then((function(e){100===e.err_code?(t.$message({message:"添加用户成功",type:"success"}),t.dialog=!1,t.getUserList()):t.$message({message:"添加用户失败",type:"error"})})):t.$message({message:"邮箱格式错误",type:"error"}):t.$message({message:"手机格式错误",type:"error"})},getDialog:function(e){this.dialog=e,this.edialog=e,this.form.username="",this.form.realName="",this.form.password="",this.form.mail="",this.form.phone="",this.form.loginStatus="",this.form.role=""},onEdit:function(e){this.edialog=!0,this.oneData=e},editMyData:function(e){var t=this;t.$api.putadmuser({id:e.id,loginStatus:e.loginStatus,mail:e.mail,password:e.password,phone:e.phone,role:e.role,username:e.username,realName:e.realName}).then((function(e){100===e.err_code?(t.$message({message:"用户更新成功",type:"success"}),t.edialog=!1,t.getUserList()):t.$message({message:"用户更新删除",type:"erroe"})}))},onDel:function(e){var t=this;this.$confirm("确定删除吗?","提示",{type:"warning"}).then((function(){t.$api.deladmuser("".concat(e.id)).then((function(e){100===e.err_code?(t.$message({message:"删除成功",type:"success"}),t.getUserList()):t.$message({message:"删除失败",type:"error"})}))})).catch((function(){}))},findUser:function(){if(""==this.search.username)return this.$message({message:"所填不能为空",type:"error"});this.isfind=!1,this.username=this.search.username,this.getUserList()},cancelFind:function(){this.isfind=!0,this.search.username="",this.getUserList()},getUserList:function(){var e=this;e.loading=!0,this.$api.admuserlist({page_num:e.query.pageIndex,page_size:e.query.pageSize,username:e.search.username}).then((function(t){if(100===t.err_code){var a=t.data.users.content;e.userList=a,e.query.total=a.length,e.loading=!1}}))},getSize:function(e){this.query.pageSize=e,this.getUserList()},getIndex:function(e){this.query.pageIndex=e,this.getUserList()}},created:function(){this.getUserList()}},g=p,h=(a("17f6"),Object(c["a"])(g,n,r,!1,null,null,null));t["default"]=h.exports},7156:function(e,t,a){var n=a("861d"),r=a("d2bb");e.exports=function(e,t,a){var s,o;return r&&"function"==typeof(s=t.constructor)&&s!==a&&n(o=s.prototype)&&o!==a.prototype&&r(e,o),e}},"841c":function(e,t,a){"use strict";var n=a("d784"),r=a("825a"),s=a("1d80"),o=a("129f"),i=a("14c3");n("search",1,(function(e,t,a){return[function(t){var a=s(this),n=void 0==t?void 0:t[e];return void 0!==n?n.call(t,a):new RegExp(t)[e](String(a))},function(e){var n=a(t,e,this);if(n.done)return n.value;var s=r(e),l=String(this),u=s.lastIndex;o(u,0)||(s.lastIndex=0);var c=i(s,l);return o(s.lastIndex,u)||(s.lastIndex=u),null===c?-1:c.index}]}))},a9e3:function(e,t,a){"use strict";var n=a("83ab"),r=a("da84"),s=a("94ca"),o=a("6eeb"),i=a("5135"),l=a("c6b6"),u=a("7156"),c=a("c04e"),d=a("d039"),f=a("7c73"),m=a("241c").f,p=a("06cf").f,g=a("9bf2").f,h=a("58a8").trim,b="Number",v=r[b],y=v.prototype,D=l(f(y))==b,_=function(e){var t,a,n,r,s,o,i,l,u=c(e,!1);if("string"==typeof u&&u.length>2)if(u=h(u),t=u.charCodeAt(0),43===t||45===t){if(a=u.charCodeAt(2),88===a||120===a)return NaN}else if(48===t){switch(u.charCodeAt(1)){case 66:case 98:n=2,r=49;break;case 79:case 111:n=8,r=55;break;default:return+u}for(s=u.slice(2),o=s.length,i=0;i<o;i++)if(l=s.charCodeAt(i),l<48||l>r)return NaN;return parseInt(s,n)}return+u};if(s(b,!v(" 0o1")||!v("0b1")||v("+0x1"))){for(var x,w=function(e){var t=arguments.length<1?0:e,a=this;return a instanceof w&&(D?d((function(){y.valueOf.call(a)})):l(a)!=b)?u(new v(_(t)),a,w):_(t)},S=n?m(v):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,isFinite,isInteger,isNaN,isSafeInteger,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,parseFloat,parseInt,isInteger".split(","),I=0;S.length>I;I++)i(v,x=S[I])&&!i(w,x)&&g(w,x,p(v,x));w.prototype=y,y.constructor=w,o(r,b,w)}},f0ad:function(e,t,a){}}]);
//# sourceMappingURL=chunk-7b1dde88.fd82ab41.js.map